<html>
  <head>
    <title> Đây là title</title>
    <script type="text/javascript">
        var datasets=[
            {ID:"P01",
            Name:"Coca",
            Quantity:15,
            Price:30000,
            Photo:"coca.jpg"
            },
            {ID:"P02",
            Name:"Pepsi",
            Quantity:20,
            Price:25000,
            Photo:"pepsi.jpg"
            },
            {ID:"P03",
            Name:"Seven-Up",
            Quantity:9,
            Price:25000,
            Photo:"7up.jpg"
            },
            {ID:"P04",
            Name:"Sting",
            Quantity:9,
            Price:17000,
            Photo:"sting.jpg"
            },
            {ID:"P05",
            Name:"Sprites",
            Quantity:14,
            Price:14000,
            Photo:"sprites.jpg"
            }

        ]
    </script>
  </head>
  <body>
    <table border="1">
        <caption> List of Products</caption>
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Quantity</th>
                <th>Price</th>
                <th>Photo</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="product_tbody">
            <tr>
                <td></td>
            </tr>
        </tbody>
    </table>
    <script type="text/javascript">
        function display_products_table()
        {
            //get product_tbody_element
            product_tbody=document.getElementById("product_tbody")
            //loop all item:
            for (i=0;i<datasets.length;i++)
        {
            product=datasets[i]
            row=document.createElement("tr")
            td_id=document.createElement("td")
            td_name=document.createElement("td")
            td_quantity=document.createElement("td")
            td_price=document.createElement("td")
            td_photo=document.createElement("td")
            td_action=document.createElement("td")
            td_id.innerText=product.ID
            td_name.innerText=product.Name
            td_quantity.innerText=product.Quantity
            td_price.innerText=product.Price
            
            //td_photo.innerText="<later..."
            img_p=document.createElement("img")
            img_p.setAttribute("src","../images/"+product.Photo)
            img_p.setAttribute("width","100")
            img_p.setAttribute("height","150")
            img_p.setAttribute("title","click here to view detail...")
            img_p.setAttribute("style","cursor:pointer")
            td_photo.appendChild(img_p);
            
            //td_action.innerText="<to be continued"
            img_detail=document.createElement("img")
            img_detail.setAttribute("src","../images/ic_detail.png")
            img_detail.setAttribute("title","View detail")
            img_detail.setAttribute("style","cursor:pointer")
            td_action.appendChild(img_detail)

            img_detail.selected_product=product
            img_detail.onclick=function()
            {
                //get selected product
                p=this.selected_product
                //convert p object into string (json format)
                stringJsonObject=JSON.stringify(p)
                //save this string into hardware 
                localStorage.setItem("selected_product", stringJsonObject)
                window.open("detail.html","_self")
            }
            
            img_edit=document.createElement("img")
            img_edit.setAttribute("src","../images/ic_edit.png")
            img_edit.setAttribute("title","Edit product")
            img_edit.setAttribute("style","cursor:pointer")
            td_action.appendChild(img_edit)
            
            img_delete=document.createElement("img")
            img_delete.setAttribute("src","../images/ic_bin.png")
            img_delete.setAttribute("title","Delete product")
            img_delete.setAttribute("style","cursor:pointer")
            td_action.appendChild(img_delete)
            img_delete.parent_row=row

            img_delete.onclick=function()
            {
                selected_row=this.parent_row
                name_remove=selected_row.childNode
                if (confirm("ê muốn xóa ["+name_remove+"] hả"))
            {
                product_tbody.removeChild(selected_row)
            }
            }


            row.appendChild(td_id)
            row.appendChild(td_name)
            row.appendChild(td_quantity)
            row.appendChild(td_price)
            row.appendChild(td_photo)
            row.appendChild(td_action)
            product_tbody.appendChild(row)
        }
        //call function:
        }
        display_products_table()
    </script>
  </body>
</html>